.TH SQ 1 0.34.0 "Sequoia PGP" "User Commands"
.SH NAME
sq toolbox keyring \- Manage collections of keys or certs
.SH SYNOPSIS
.br
\fBsq toolbox keyring list\fR [\fIOPTIONS\fR] \fIFILE\fR
.br
\fBsq toolbox keyring split\fR [\fIOPTIONS\fR] \fIFILE\fR
.br
\fBsq toolbox keyring merge\fR [\fIOPTIONS\fR] \fIFILE\fR
.br
\fBsq toolbox keyring filter\fR [\fIOPTIONS\fR] \fIFILE\fR
.SH DESCRIPTION
Manage collections of keys or certs.
.PP
Collections of keys or certificates (also known as "keyrings" when
they contain secret key material, and "certrings" when they don't) are
any number of concatenated certificates.  This subcommand provides
tools to list, split, merge, and filter keyrings.
.PP
Note: In the documentation of this subcommand, we sometimes use the
terms keys and certs interchangeably.
.PP

.SH SUBCOMMANDS
.SS "sq toolbox keyring list"
List keys in a keyring.
.PP
Prints the fingerprint as well as the primary userid for every
certificate encountered in the keyring.
.PP


.SS "sq toolbox keyring split"
Split a keyring into individual keys.
.PP
Splitting up a keyring into individual keys helps with curating a
keyring.
.PP
The converse operation is `sq toolbox keyring merge`.
.PP


.SS "sq toolbox keyring merge"
Merge keys or keyrings into a single keyring.
.PP
Multiple
versions of the same certificate are merged together.  Where data is
replaced (e.g., secret key material), data from the later certificate
is preferred.
.PP


.SS "sq toolbox keyring filter"
Join keys into a keyring applying a filter.
.PP
This can be used to filter keys based on given predicates,
e.g. whether they have a user id containing an email address with a
certain domain.  Additionally, the keys can be pruned to only include
components matching the predicates.
.PP
If no filters are supplied, everything matches.
.PP
If multiple predicates are given, they are or'ed, i.e. a key matches
if any of the predicates match.  To require all predicates to match,
chain multiple invocations of this command.  See EXAMPLES for
inspiration.
.PP


.SH EXAMPLES
.SS "sq toolbox keyring list"
.PP

.PP
List all certs
.PP
.nf
.RS
sq toolbox keyring list certs.pgp
.RE
.PP
.fi

.PP
List all certs with a userid on example.org
.PP
.nf
.RS
sq toolbox keyring filter \-\-domain example.org certs.pgp \\
.RE
.RS
.RS
| sq toolbox keyring list
.RE
.RE
.fi
.PP
.SS "sq toolbox keyring split"
.PP

.PP
Split all certs
.PP
.nf
.RS
sq toolbox keyring split certs.pgp
.RE
.PP
.fi

.PP
Split all certs, merging them first to avoid duplicates
.PP
.nf
.RS
sq toolbox keyring merge certs.pgp | sq toolbox keyring split
.RE
.fi
.PP
.SS "sq toolbox keyring merge"
.PP

.PP
Merge certificate updates
.PP
.nf
.RS
sq toolbox keyring merge certs.pgp romeo\-updates.pgp
.RE
.fi
.PP
.SS "sq toolbox keyring filter"
.PP

.PP
Converts a key to a cert (i.e., remove any secret key material)
.PP
.nf
.RS
sq toolbox keyring filter \-\-to\-cert cat juliet.pgp
.RE
.PP
.fi

.PP
Gets the keys with a user id on example.org
.PP
.nf
.RS
sq toolbox keyring filter \-\-domain example.org keys.pgp
.RE
.PP
.fi

.PP
Gets the keys with a user id on example.org or example.net
.PP
.nf
.RS
sq toolbox keyring filter \-\-domain example.org \\
.RE
.RS
.RS
\-\-domain example.net \\
.RE
.RE
.RS
.RS
keys.pgp
.RE
.RE
.PP
.fi

.PP
Gets the keys with a user id with the name Juliet
.PP
.nf
.RS
sq toolbox keyring filter \-\-name Juliet keys.pgp
.RE
.PP
.fi

.PP
Gets the keys with a user id with the name Juliet on example.org
.PP
.nf
.RS
sq toolbox keyring filter \-\-domain example.org keys.pgp | \\
.RE
.RS
.RS
sq toolbox keyring filter \-\-name Juliet
.RE
.RE
.PP
.fi

.PP
Gets the keys with a user id on example.org, pruning other userids
.PP
.nf
.RS
sq toolbox keyring filter \-\-domain example.org \-\-prune\-certs \\
.RE
.RS
.RS
certs.pgp
.RE
.RE
.fi
.SH "SEE ALSO"
.nh
\fBsq\fR(1), \fBsq\-toolbox\fR(1), \fBsq\-toolbox\-keyring\-list\fR(1), \fBsq\-toolbox\-keyring\-split\fR(1), \fBsq\-toolbox\-keyring\-merge\fR(1), \fBsq\-toolbox\-keyring\-filter\fR(1).
.hy
.PP
For the full documentation see <https://book.sequoia\-pgp.org>.
.SH VERSION
0.34.0 (sequoia\-openpgp 1.19.0)
